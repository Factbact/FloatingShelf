# FloatingShelf - やり残しリスト

## ✅ 修正済み（v1.8.0）

### ドラッグ＆ドロップバグ
- **問題**: 既にファイルがあるシェルフに追加でファイルをドロップできない
- **原因**: ドラッグ中にマウスがシェルフに入ると自動展開（ウィンドウリサイズ）が発動し、macOSがドラッグセッションをキャンセルしていた
- **解決**: ドラッグ中は自動展開をスキップするようにフラグを追加

### カラーボタン
- **問題**: シェルフ右上のカラーボタンが反応しなかった
- **解決**: NSMenuを使用したポップアップメニューに変更

---

## 🔍 未解決: Quick Look トグル問題

### 問題の概要
スペースキーでQuick Lookを表示することはできるが、2回目のスペースキーでQuick Lookを閉じることができない。

### 原因
Quick Lookパネル(`QLPreviewPanel`)が表示されると、別のウィンドウにフォーカスが移動し、2回目のスペースキーがFloatingShelfアプリに届かない。

### 将来の解決案
1. QLPreviewPanelのサブクラス化
2. ESCキーでの終了のみに制限
3. カスタムプレビューウィンドウの実装

---

## 🚀 将来の改善計画

### パフォーマンス
- [ ] サムネイル生成の非同期化（現在メインスレッドでブロッキング）

### 機能
- [ ] iCloud同期
- [ ] グローバルホットキーのカスタマイズ

---

*最終更新: 2024-12-31*
